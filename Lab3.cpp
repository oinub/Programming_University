#include <iostream>
#include <cmath>

int main()
{
	using namespace std;
	setlocale(LC_ALL, "Russian");  // Установка русской локали для корректного отображения кириллицы

	// ПЕРВАЯ ЧАСТЬ ПРОГРАММЫ - ОБРАБОТКА ПОСЛЕДОВАТЕЛЬНОСТИ ЧИСЕЛ
	short Quantity, last_num, min_index = -1;  // Объявление переменных: длина последовательности, текущее число, индекс минимального элемента
	short min_value = SHRT_MAX;  // Инициализация переменной для хранения минимального значения (очень большое число)
	int sum = 0;  // Переменная для накопления суммы
	short first_num;  // Переменная для хранения первого элемента последовательности

	// Цикл для корректного ввода длины последовательности
	do
	{
		cout << "Введите длину последовательности (неотрицательное число): ";
		cin >> Quantity;
		if (Quantity < 0) {
			cout << "Ошибка! Длина не может быть отрицательной. Попробуйте снова." << endl;
		}
	} while (Quantity < 0);  // Повторять пока не будет введено неотрицательное число

	if (Quantity == 0) {
		cout << "Длина последовательности равна 0. Программа завершает работу." << endl;
		return 0;
	}

	cout << "Введите элементы последовательности (" << Quantity << " чисел): " << endl;
	cout << "Введите элемент 1: ";
	cin >> first_num;  // Ввод первого элемента последовательности

	// Цикл для обработки остальных элементов последовательности (со 2 по Quantity)
	for (short i = 2; i <= Quantity; ++i)
	{
		cout << "Введите элемент " << i << ": ";
		cin >> last_num;  // Ввод следующего элемента последовательности
		if (last_num > first_num)  // Проверка: если текущий элемент больше первого элемента
		{
			sum += last_num;  // Добавление текущего элемента к сумме
			if (last_num < min_value)  // Проверка: если текущий элемент меньше текущего минимума
			{
				min_value = last_num;  // Обновление минимального значения
				min_index = i;  // Сохранение индекса минимального элемента
			}
		}
	}
	cout << endl;
	// Проверка: если не было найдено подходящих элементов
	if (min_index == -1) {
		cout << "Не было найдено элементов, больших чем первый элемент (" << first_num << ")" << endl;
	}
	else {
		// Вывод результатов: сумма, минимальное значение и его индекс
		cout << "РЕЗУЛЬТАТЫ ОБРАБОТКИ ПОСЛЕДОВАТЕЛЬНОСТИ:" << endl;
		cout << "Сумма элементов, больших чем первый элемент (" << first_num << ") = " << sum << endl;
		cout << "Минимальное значение среди этих элементов = " << min_value << endl;
		cout << "Индекс минимального элемента в последовательности = " << min_index << endl;
	}

	// ВТОРАЯ ЧАСТЬ ПРОГРАММЫ - РАБОТА С ЦИФРАМИ ЧИСЛА
	short q, min_d = 9, max_d = 0;  // Объявление переменных: число, минимальная цифра, максимальная цифра
	int summa_d = 0;  // Переменная для суммы минимальной и максимальной цифры

	cout << "\nВВЕДИТЕ ЧИСЛО ДЛЯ АНАЛИЗА ЦИФР:" << endl;
	cout << "Число должно быть в диапазоне от -999 до 999" << endl;
	cout << "Введите число: ";
	cin >> q;  // Ввод числа

	// Проверка корректности введенного числа
	if ((q <= -1000) || (q >= 1000))
	{
		cout << "ОШИБКА! Число " << q << " выходит за допустимый диапазон!" << endl;
		cout << "Допустимый диапазон: от -999 до 999" << endl;
		return 0;  // Завершение программы
	}

	cout << "Анализируем число: " << q << endl;
	short y = abs(q);  // Получение модуля числа для работы с цифрами

	// Цикл для разбора числа на цифры
	while (y > 0)
	{
		short d = y % 10;  // Получение последней цифры числа
		cout << "Текущая цифра: " << d << endl;
		if (d > max_d)  // Проверка: если текущая цифра больше текущего максимума
		{
			cout << "Новая максимальная цифра: " << d << " (было: " << max_d << ")" << endl;
			max_d = d;  // Обновление максимальной цифры
		}
		if (d < min_d)  // Проверка: если текущая цифра меньше текущего минимума
		{
			cout << "Новая минимальная цифра: " << d << " (было: " << min_d << ")" << endl;
			min_d = d;  // Обновление минимальной цифры
		}
		y /= 10;  // Удаление последней цифры из числа
	}

	summa_d = min_d + max_d;  // Вычисление суммы минимальной и максимальной цифры

	// Вывод результата
	cout << "\nРЕЗУЛЬТАТЫ АНАЛИЗА ЦИФР:" << endl;
	cout << "Минимальная цифра в числе: " << min_d << endl;
	cout << "Максимальная цифра в числе: " << max_d << endl;
	cout << "Сумма максимальной и минимальной цифры = " << summa_d << endl;

	return 0;  // Завершение программы
}